# Mesh Locker（Blender Add-on）

BlenderのEditモードで、選択したメッシュ要素（頂点集合）をロックし、誤って移動・削除してしまう事故を防ぐアドオンです。  
ロック情報は `mesh.attributes`（INT / POINT）に保存され、`.blend` に永続化されます。

---

## 対応環境

- Blender 3.6 以降（4.2 以降推奨）

---

## インストール

1. GitHub Releases から最新の `Mesh_Locker.py` をダウンロード
2. Blender → `Edit` → `Preferences` → `Add-ons`
3. `Install...` → `Mesh_Locker.py` を選択
4. Add-on を有効化

パネル位置：
- 3D Viewport → Sidebar（Nキー）→ `Mesh Lock`

---

## 使い方

### ロックする
1. Editモードで、ロックしたい頂点/辺/面を選択  
   ※内部的には「頂点集合」としてロックします
2. `選択をロック` を押下

### ロックを解除する（部分解除）
1. `ロック解除範囲選択` を押下（解除モードON）  
   - ロック頂点のみが表示され、解除対象を選びやすい状態になります  
   - 解除モード中はロック頂点/ロックエッジが色で強調表示されます  
     - 未選択：基準色  
     - 選択中：強調色  
     - ロックエッジは「両端がロック頂点」の辺のみ
2. 解除したい箇所を選択
3. `選択箇所のロック解除` を押下

### 解除モードを終了する（キャンセル）
- 解除モード中に `ロック解除キャンセル` を押すと、解除モードを終了します  
  ※選択が無くても終了できます

### ロックを解除する（全解除）
- `すべて解除` を押下

---

## 保護される編集操作

ロック頂点が存在する場合、以下の操作を保護します。

- 移動（G）
  - ロック要素に触れている移動をブロック
  - ロック存在時の全選択移動をブロック（クラッシュ回避）
- 削除（X / Delete / Backspace）
  - ロック要素に触れている削除をブロック
  - ロック存在時の全選択削除をブロック
- 解除モード中の削除
  - 解除対象を誤って削除しないよう、削除操作をブロック

---

## ショートカットキー

（キー割り当ては環境により異なる場合があります。Blenderの Keymap で変更可能です）

- `Ctrl + Shift + L`：選択をロック
- `Ctrl + Shift + U`：ロック解除範囲選択（解除モードON/OFF）

---

## 変更履歴

変更履歴は `CHANGELOG.md` を参照してください。

---

## ライセンス

MIT License
