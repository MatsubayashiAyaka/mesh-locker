# CHANGELOG

このプロジェクトの変更履歴を記録します。  


## [1.2.0] - 2025-01-29

### Added
- **ロック解除キャンセル機能**: 「ロック解除範囲選択」モード中に「ロック解除キャンセル」ボタンが表示され、何もロック解除せずにモードから抜けられるように
- **完全なDeleteメニュー表示**: DEL/BackSpaceキーで Blender標準の完全なDeleteメニュー（Dissolve系、Collapse Edges & Faces、Edge Loops等を含む）を表示

### Changed
- **削除キーの動作をBlender標準に準拠**:
  - Xキー: ダイアログなしで直接削除（選択モードに応じた削除タイプ）
  - DEL/BackSpaceキー: Deleteダイアログを表示
- **Edge/Faceモードでのロック保護を改善**: 
  - エッジ削除: 両端ともロックされていないエッジのみ削除可能
  - フェース削除: すべての頂点がロックされていないフェースのみ削除可能
  - Deleteダイアログで Edges/Faces/Dissolve系などを選択しても正しく動作

### Fixed
- Addonを有効にするとDeleteダイアログが表示されなくなる問題を修正
- Edge/Faceモードで全選択（Aキー）後に削除するとロック頂点も削除されてしまう問題を修正

---

## [1.1.1]

### Fixed
- すべてのロック解除後も Delete ガードが通常削除を横取りしてしまう問題を修正
- ロック要素が存在しない場合に PASS_THROUGH が正しく返らない不具合を修正

### Changed
- ロック頂点数が 0 の場合、Delete は Blender 標準動作に完全復帰するよう改善
- Delete ガード処理の安定性と予測可能性を向上

---

## [1.1.0]

### Added
- 「ロック解除範囲選択」モード中にロック頂点/ロックエッジを色付け表示
  - ロック頂点: 未選択は基準色、選択中は強調色
  - ロックエッジ: 両端がロック頂点の辺のみを表示
- 表示設定パネル追加（色・サイズ調整）
- GPU描画ハンドラによる読み取り専用の重ね描画（メッシュデータ非破壊）

### Technical
- `SpaceView3D.draw_handler_add` による描画
- 深度テスト（LESS_EQUAL）による奥行き処理

---

## [1.0.0]

### Added
- 初期リリース
- 選択した頂点/辺/面をロックして編集不可に
- 移動（G）・削除（X / DEL / Backspace）からの保護
- ロック情報の永続化（`mesh.attributes` に保存、`.blend` ファイルに含まれる）
- 2段階ロック解除（部分解除対応）
  - 「ロック解除範囲選択」→ ロック頂点を表示
  - 「選択箇所のロック解除」→ 選択した部分のみ解除
- Blender 4.2 対応（Panel.draw() の例外問題を解決済み）
- 自己修復機能（BMesh と attributes の整合性自動修正）